# ğŸ—ï¸ System Architecture

This page describes the high-level architecture of Builder Layer End.

---

## ğŸ“Š Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BUILDER LAYER END                                  â”‚
â”‚                    Multi-Agent LOD Pipeline Architecture                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         PRESENTATION LAYER                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ React Frontend â”‚  â”‚ Docusaurus     â”‚  â”‚ API Documentation   â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ (Vite + TS)    â”‚  â”‚ (Docs Site)    â”‚  â”‚ (Swagger/OpenAPI)   â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          API LAYER                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ Express.js     â”‚  â”‚ FastAPI        â”‚  â”‚ WebSocket           â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ Backend API    â”‚  â”‚ Citizen API    â”‚  â”‚ Real-time Events    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ (TypeScript)   â”‚  â”‚ (Python)       â”‚  â”‚ (Socket.IO)         â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚                   â”‚                       â”‚                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     MULTI-AGENT ORCHESTRATION                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚                    Python Orchestrator                          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Phase-based workflow execution                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Agent lifecycle management                                   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Error handling and retry logic                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Health monitoring                                            â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚                   38 Python Agents                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Data     â”‚ â”‚ Analyticsâ”‚ â”‚ Transformâ”‚ â”‚ Context          â”‚   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Collect  â”‚ â”‚ (CV/AI)  â”‚ â”‚ (NGSI-LD)â”‚ â”‚ Management       â”‚   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ RDF &    â”‚ â”‚ State    â”‚ â”‚ Monitor  â”‚ â”‚ Notification     â”‚   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ LOD      â”‚ â”‚ Mgmt     â”‚ â”‚ & Health â”‚ â”‚ & Alerts         â”‚   â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚                   3 TypeScript AI Agents                         â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚TrafficMaestroâ”‚ â”‚GraphInvestig â”‚ â”‚ EcoTwin Agent            â”‚â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Agent        â”‚ â”‚ ator Agent   â”‚ â”‚ (Sustainability)         â”‚â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         DATA LAYER                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚PostgreSQLâ”‚ â”‚  Neo4j   â”‚ â”‚ MongoDB  â”‚ â”‚  Redis   â”‚ â”‚  Kafka   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚TimescaleDBâ”‚ â”‚ Graph DB â”‚ â”‚ Document â”‚ â”‚  Cache   â”‚ â”‚ Streamingâ”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚              SEMANTIC WEB INFRASTRUCTURE                      â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚   Stellio    â”‚    â”‚ Apache Jena  â”‚    â”‚   LOD Cloud   â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ NGSI-LD CB   â”‚    â”‚   Fuseki     â”‚    â”‚   Linksets    â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚    â”‚ (Triplestore)â”‚    â”‚               â”‚  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                     EXTERNAL INTEGRATIONS                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ Traffic  â”‚ â”‚ Weather  â”‚ â”‚ Air      â”‚ â”‚ GeoNames â”‚ â”‚ DBpedia  â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Cameras  â”‚ â”‚   API    â”‚ â”‚ Quality  â”‚ â”‚   API    â”‚ â”‚ Wikidata â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ HCM City â”‚ â”‚          â”‚ â”‚   API    â”‚ â”‚          â”‚ â”‚          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DATA FLOW PIPELINE                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Raw Camera  â”‚
     â”‚ Data (JSON) â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: Collection   â”‚ â†’ image_refresh_agent
â”‚ â€¢ Fetch camera images â”‚   external_data_collector_agent
â”‚ â€¢ Enrich with weather â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: Transform    â”‚ â†’ ngsi_ld_transformer_agent
â”‚ â€¢ Convert to NGSI-LD  â”‚   sosa_ssn_mapper_agent
â”‚ â€¢ Add SOSA/SSN types  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: Validation   â”‚ â†’ smart_data_models_validation_agent
â”‚ â€¢ Validate schemas    â”‚
â”‚ â€¢ Check constraints   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3.5: LOD Enrich â”‚ â†’ lod_linkset_enrichment_agent
â”‚ â€¢ Add owl:sameAs      â”‚   (Optional)
â”‚ â€¢ Link to DBpedia     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 4: Publishing   â”‚ â†’ entity_publisher_agent
â”‚ â€¢ Push to Stellio     â”‚   ngsi_ld_to_rdf_agent
â”‚ â€¢ Convert to RDF      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 5: Analytics    â”‚ â†’ cv_analysis_agent
â”‚ â€¢ Vehicle detection   â”‚   congestion_detection_agent
â”‚ â€¢ Accident detection  â”‚   accident_detection_agent
â”‚ â€¢ Pattern recognition â”‚   pattern_recognition_agent
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 6: RDF Loading  â”‚ â†’ triplestore_loader_agent
â”‚ â€¢ Load to Fuseki      â”‚
â”‚ â€¢ Create named graphs â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 7-9: Sync       â”‚ â†’ neo4j_sync_agent
â”‚ â€¢ Sync to Neo4j       â”‚   state_updater_agent
â”‚ â€¢ Update states       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§© Component Diagram

### Python Backend Components

```
src/
â”œâ”€â”€ agents/                    # 38 Python Agents
â”‚   â”œâ”€â”€ analytics/             # CV & AI Analysis (4 agents)
â”‚   â”‚   â”œâ”€â”€ cv_analysis_agent.py
â”‚   â”‚   â”œâ”€â”€ congestion_detection_agent.py
â”‚   â”‚   â”œâ”€â”€ accident_detection_agent.py
â”‚   â”‚   â””â”€â”€ pattern_recognition_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ cache/                 # Caching (2 agents)
â”‚   â”‚   â”œâ”€â”€ cache_manager_agent.py
â”‚   â”‚   â””â”€â”€ cache_invalidator_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ context_management/    # NGSI-LD Context (4 agents)
â”‚   â”‚   â”œâ”€â”€ entity_publisher_agent.py
â”‚   â”‚   â”œâ”€â”€ state_updater_agent.py
â”‚   â”‚   â”œâ”€â”€ stellio_state_query_agent.py
â”‚   â”‚   â””â”€â”€ temporal_data_manager_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ data_collection/       # Data Sources (2 agents)
â”‚   â”‚   â”œâ”€â”€ image_refresh_agent.py
â”‚   â”‚   â””â”€â”€ external_data_collector_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ graph_database/        # Neo4j (2 agents)
â”‚   â”‚   â”œâ”€â”€ neo4j_query_agent.py
â”‚   â”‚   â””â”€â”€ neo4j_sync_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ingestion/             # Citizen Science (1 agent)
â”‚   â”‚   â””â”€â”€ citizen_ingestion_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/           # External Systems (3 agents)
â”‚   â”‚   â”œâ”€â”€ api_gateway_agent.py
â”‚   â”‚   â”œâ”€â”€ neo4j_sync_agent.py
â”‚   â”‚   â””â”€â”€ cache_manager_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ monitoring/            # Health & Quality (3 agents)
â”‚   â”‚   â”œâ”€â”€ health_check_agent.py
â”‚   â”‚   â”œâ”€â”€ data_quality_validator_agent.py
â”‚   â”‚   â””â”€â”€ performance_monitor_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ notification/          # Alerts (5 agents)
â”‚   â”‚   â”œâ”€â”€ alert_dispatcher_agent.py
â”‚   â”‚   â”œâ”€â”€ incident_report_generator_agent.py
â”‚   â”‚   â”œâ”€â”€ subscription_manager_agent.py
â”‚   â”‚   â”œâ”€â”€ email_notification_handler.py
â”‚   â”‚   â””â”€â”€ webhook_notification_handler.py
â”‚   â”‚
â”‚   â”œâ”€â”€ rdf_linked_data/       # Semantic Web (5 agents)
â”‚   â”‚   â”œâ”€â”€ ngsi_ld_to_rdf_agent.py
â”‚   â”‚   â”œâ”€â”€ triplestore_loader_agent.py
â”‚   â”‚   â”œâ”€â”€ lod_linkset_enrichment_agent.py
â”‚   â”‚   â”œâ”€â”€ content_negotiation_agent.py
â”‚   â”‚   â””â”€â”€ smart_data_models_validation_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ state_management/      # State Tracking (4 agents)
â”‚   â”‚   â”œâ”€â”€ state_manager_agent.py
â”‚   â”‚   â”œâ”€â”€ accident_state_manager_agent.py
â”‚   â”‚   â”œâ”€â”€ congestion_state_manager_agent.py
â”‚   â”‚   â””â”€â”€ temporal_state_tracker_agent.py
â”‚   â”‚
â”‚   â”œâ”€â”€ transformation/        # Data Transform (2 agents)
â”‚   â”‚   â”œâ”€â”€ ngsi_ld_transformer_agent.py
â”‚   â”‚   â””â”€â”€ sosa_ssn_mapper_agent.py
â”‚   â”‚
â”‚   â””â”€â”€ kafka_entity_publisher_agent.py  # Kafka (1 agent)
â”‚
â”œâ”€â”€ core/                      # Core Utilities
â”‚   â”œâ”€â”€ config_loader.py
â”‚   â”œâ”€â”€ data_seeder.py
â”‚   â”œâ”€â”€ logger.py
â”‚   â””â”€â”€ utils.py
â”‚
â”œâ”€â”€ cli/                       # CLI Tools
â”‚   â”œâ”€â”€ cache/
â”‚   â”œâ”€â”€ graph/
â”‚   â”œâ”€â”€ monitoring/
â”‚   â”œâ”€â”€ pipeline/
â”‚   â””â”€â”€ rdf/
â”‚
â””â”€â”€ utils/                     # Helpers
    â””â”€â”€ mongodb_helper.py
```

### TypeScript Backend Components

```
apps/traffic-web-app/backend/src/
â”œâ”€â”€ agents/                    # 3 AI Agents
â”‚   â”œâ”€â”€ TrafficMaestroAgent.ts     # Traffic management
â”‚   â”œâ”€â”€ GraphInvestigatorAgent.ts  # Graph analysis
â”‚   â””â”€â”€ EcoTwinAgent.ts            # Sustainability
â”‚
â”œâ”€â”€ routes/                    # 12 API Routes
â”‚   â”œâ”€â”€ accidentRoutes.ts
â”‚   â”œâ”€â”€ agentRoutes.ts
â”‚   â”œâ”€â”€ airQualityRoutes.ts
â”‚   â”œâ”€â”€ analyticsRoutes.ts
â”‚   â”œâ”€â”€ cameraRoutes.ts
â”‚   â”œâ”€â”€ correlationRoutes.ts
â”‚   â”œâ”€â”€ geocoding.ts
â”‚   â”œâ”€â”€ historicalRoutes.ts
â”‚   â”œâ”€â”€ multiAgentRoutes.ts
â”‚   â”œâ”€â”€ patternRoutes.ts
â”‚   â”œâ”€â”€ routing.ts
â”‚   â””â”€â”€ weatherRoutes.ts
â”‚
â”œâ”€â”€ services/                  # Business Logic
â”œâ”€â”€ middlewares/               # Express Middlewares
â”œâ”€â”€ config/                    # Configuration
â”œâ”€â”€ types/                     # TypeScript Types
â”œâ”€â”€ utils/                     # Utilities
â””â”€â”€ server.ts                  # Entry Point
```

### React Frontend Components

```
apps/traffic-web-app/frontend/src/
â”œâ”€â”€ components/                # 30+ Components
â”‚   â”œâ”€â”€ TrafficMap.tsx             # Main map component
â”‚   â”œâ”€â”€ FilterPanel.tsx            # Filter controls
â”‚   â”œâ”€â”€ AnalyticsDashboard.tsx     # Analytics view
â”‚   â”œâ”€â”€ CitizenReportForm.tsx      # Citizen reports
â”‚   â”œâ”€â”€ RoutePlanner.tsx           # Route planning
â”‚   â”œâ”€â”€ agents/                    # Agent chat UI
â”‚   â”œâ”€â”€ landing/                   # Landing page
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ pages/                     # Page Components
â”œâ”€â”€ services/                  # API Services
â”œâ”€â”€ store/                     # Zustand State
â”œâ”€â”€ hooks/                     # Custom Hooks
â”œâ”€â”€ types/                     # TypeScript Types
â”œâ”€â”€ App.tsx                    # Root Component
â””â”€â”€ main.tsx                   # Entry Point
```

---

## ğŸ”— Integration Points

### External APIs

| Service | Purpose | Protocol |
|---------|---------|----------|
| Ho Chi Minh Traffic Cameras | Camera images | HTTP/REST |
| OpenWeatherMap | Weather data | HTTP/REST |
| AQI API | Air quality | HTTP/REST |
| GeoNames | Geographic data | HTTP/REST |
| DBpedia Lookup | Linked data | HTTP/REST |
| Wikidata Search | Linked data | HTTP/REST |

### Internal Communication

| From | To | Protocol |
|------|-----|----------|
| Frontend | Backend | HTTP/REST + WebSocket |
| Backend | Stellio | HTTP/REST (NGSI-LD) |
| Backend | Neo4j | Bolt |
| Backend | PostgreSQL | TCP |
| Backend | MongoDB | TCP |
| Backend | Redis | TCP |
| Backend | Kafka | TCP |
| Backend | Fuseki | HTTP/SPARQL |

---

## ğŸ“š Related Pages

- [[Multi-Agent-System]] - Detailed agent documentation
- [[Data-Flow]] - Complete data flow diagrams
- [[Technology-Stack]] - All technologies used
- [[Docker-Services]] - Infrastructure services
