# Environment Configuration for Builder Layer End
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ==================== Python Configuration ====================
PYTHONPATH=.

# ==================== Application Settings ====================
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ==================== Main Application (main.py) ====================
# Orchestrator scheduling configuration
ORCHESTRATOR_INTERVAL=60  # Interval in minutes between orchestrator runs (default: 60)
WORKFLOW_CONFIG=config/workflow.yaml  # Path to workflow configuration file
RUN_ORCHESTRATOR_NOW=false  # Run orchestrator immediately on startup (true/false)

# Citizen Ingestion API configuration
CITIZEN_API_PORT=8001  # API server port (default: 8001)

# ==================== Data Directories ====================
DATA_DIR=data
CONFIG_DIR=config
LOGS_DIR=logs
ASSETS_DIR=assets

# ==================== Stellio Context Broker ====================
STELLIO_URL=http://localhost:8080
STELLIO_API_KEY=
STELLIO_TENANT=

# ==================== Neo4j Graph Database ====================
NEO4J_URL=bolt://localhost:7687
NEO4J_HOST=localhost
NEO4J_PORT=7687
NEO4J_WEB_URL=http://localhost:7474
NEO4J_USER=neo4j
NEO4J_PASSWORD=test12345
NEO4J_DATABASE=neo4j

# ==================== Kafka Message Queue ====================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_HOST=localhost
KAFKA_PORT=9092
KAFKA_TOPIC=cim.entity._CatchAll
KAFKA_TOPIC_PREFIX=cim.entity
KAFKA_GROUP_ID=builder-layer-end

# ==================== Apache Jena Fuseki ====================
FUSEKI_URL=http://localhost:3030
FUSEKI_DATASET=traffic
FUSEKI_USER=admin
FUSEKI_PASSWORD=test_admin

# ==================== YOLOX Configuration ====================
YOLOX_WEIGHTS=assets/models/yolox_x.pth
YOLOX_DEVICE=cpu  # cpu or cuda
YOLOX_CONFIDENCE=0.25
YOLOX_MAX_VEHICLES=15

# ==================== DETR Accident Detection ====================
DETR_MODEL=hilmantm/detr-traffic-accident-detection
DETR_DEVICE=cpu  # cpu or cuda
DETR_CONFIDENCE=0.5

# ==================== PostgreSQL Database ====================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=stellio_search
POSTGRES_USER=stellio
POSTGRES_PASSWORD=stellio_test

# ==================== Redis Cache ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# ==================== MongoDB ====================
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_USER=admin
MONGODB_PASSWORD=mongodb_test_pass

# ==================== Alert & Notification Services ====================
ALERT_WEBHOOK_URL=http://localhost:9000/alerts
ALERT_DISPATCHER_URL=http://localhost:8080
REPORT_GENERATOR_URL=http://localhost:8081
API_GATEWAY_URL=http://localhost:8000
SLACK_WEBHOOK_URL=

# ==================== External APIs ====================
# OpenWeatherMap API (for weather and air quality data)
# Sign up at: https://openweathermap.org/api
OPENWEATHERMAP_API_KEY=bb5a19eeffa9cba1aa96c813d4674f26
OPENWEATHERMAP_BASE_URL=https://api.openweathermap.org/data/2.5

# OpenWeatherMap Air Pollution API (uses same API key as weather)
# Endpoint: https://api.openweathermap.org/data/2.5/air_pollution
OPENWEATHERMAP_AIR_POLLUTION_URL=https://api.openweathermap.org/data/2.5/air_pollution

# OpenAQ API (for air quality data - currently disabled, fallback only)
# Sign up at: https://openaq.org/
OPENAQ_API_KEY=1268dbec69a5c8dd637f4a0616a7338d1f320ae966721abdc18e94a2b20b0675
OPENAQ_BASE_URL=https://api.openaq.org/v3

# GeoNames API (for LOD Cloud linksets - Optional)
# Register free account at: https://www.geonames.org/login
# Enable "Free Web Services" in account settings
GEONAMES_USERNAME=demo  # Replace with your username for production

# ==================== Email Configuration ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM=noreply@yourdomain.com

# ==================== Monitoring & Observability ====================
SENTRY_DSN=
PROMETHEUS_PORT=9090
METRICS_ENABLED=false

# ==================== Performance Tuning ====================
MAX_WORKERS=4
BATCH_SIZE=10
REQUEST_TIMEOUT=30
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_FACTOR=2

# ==================== Security ====================
SECRET_KEY=change_this_to_a_random_secret_key
API_KEY_HEADER=X-API-Key
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ==================== Feature Flags ====================
ENABLE_SEEDING=true
ENABLE_CACHING=true
ENABLE_ASYNC_PROCESSING=true
